<!DOCTYPE html>
<html lang="en">
<head>
  <title>MyProctor.ai</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">
  <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='volt/css/volt.css') }}">
  <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='volt/vendor/@fortawesome/fontawesome-free/css/all.min.css') }}">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  {% block head %}{% endblock %}
</head>

<body class="bg-light">
  <div class="d-flex" id="wrapper" style="min-height:100vh;">
    <!-- Sidebar -->
    <nav id="sidebarMenu" class="sidebar bg-dark text-white flex-shrink-0" style="width:260px;">
      <div class="sidebar-inner px-4 pt-3">
        <div class="mb-4">
          <div class="d-flex align-items-center">
            <lottie-player src="https://assets1.lottiefiles.com/packages/lf20_wEt2nn.json"background="transparent" speed="1" style="width: 50px; height: 50px;" loop autoplay></lottie-player>
            <h5 class="mt-2 ms-3 text-white">{{ session.name }}</h5>
          </div>
        </div>

        <ul class="nav flex-column">
          <li class="nav-item">
            <a href="#" onclick="return funStartExam()" class="nav-link text-white">
              <i class="fas fa-clipboard-list me-2"></i> Give Exam
            </a>
          </li>
          <li class="nav-item">
            <a href="/{{session.email}}/student_test_history" class="nav-link text-white">
              <i class="fas fa-history me-2"></i> Exam History
            </a>
          </li>
          <li class="nav-item">
            <a href="/{{session.email}}/tests-given" class="nav-link text-white">
              <i class="fas fa-poll me-2"></i> Results
            </a>
          </li>

          <li role="separator" class="dropdown-divider mt-4 mb-3 border-light"></li>

          <li class="nav-item">
            <a href="/report_student" class="nav-link text-white">
              <i class="fas fa-bug me-2"></i> Report Problems
            </a>
          </li>

          <li class="nav-item">
            <a href="/upload-face" class="nav-link text-white">
              <i class="fas fa-camera me-2"></i> Upload Face
            </a>
          </li>

          <li class="nav-item">
            <a href="/changepassword_student" class="nav-link text-white">
              <i class="fas fa-key me-2"></i> Change Password
            </a>
          </li>

          <li class="mt-3">
            <button onclick="funLogout()" class="btn btn-danger w-100">
              <i class="fas fa-sign-out-alt me-2"></i> Logout
            </button>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Page Content -->
    <div id="page-content-wrapper" class="flex-grow-1 p-4">
      {% include 'includes/_messages.html' %}
      {% block body %}{% endblock %}
      
      <footer class="mt-auto text-center pt-4">
        <p class="font-weight-bold mb-0">Copyright © MyProctor.ai 
          <script>document.write(new Date().getFullYear())</script>. All rights reserved.
        </p>
        <small>Made with ❤️ by Suriya V</small>
      </footer>
    </div>
  </div>

  <script>
    function funLogout() {
      Swal.fire({
        title: 'Are you sure?',
        text: "Do you really want to logout?",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Yes, logout me!',
        cancelButtonText: 'No!',
        confirmButtonColor: '#d33',
        cancelButtonColor: '#202124',
        reverseButtons: true
      }).then((result) => {
        if (result.isConfirmed) {
          $.post("/logout", function(response) {
            window.location.href = "/login";
          });
        }
      });
    }

    function funStartExam() {
      Swal.fire({
        title: '<strong>BEFORE EXAM LOGIN RULES</strong>',
        icon: 'warning',
        html: '<ol><li>Don’t minimize the window; it will be monitored.</li>' +
              '<li>Check your camera before starting.</li>' +
              '<li>Do not use mobile or other materials.</li>'+
              '<li>If you are facing any problems/can not login, Report email to care@suriya.com or contact us by phone +91 6374698935.</li>'+
              '<li>We wishing you,All the Best and do well.</li></ol>',
        confirmButtonText: 'OK, BEGIN EXAM!',
        confirmButtonColor: '#202124'
      }).then((r) => { if (r.isConfirmed) window.location.href = "/give-test"; });
    }
  </script>

  <script src="{{ url_for('static', filename='volt/assets/js/volt.js') }}"></script>
</body>
</html>
